## Theorie zu den verschiedenen Komponenten

__TOC__ 

## Was sind die schlechten Wetterbedingungen fÃ¼r Solaranlagen?
Der Grund, warum ich diesen Abschnitt in meine Theorie einbeziehe, liegt darin, dass mein Wetter-Notifier die verschiedenen Wettereigenschaften berÃ¼cksichtigen muss. Es ist entscheidend, zu verstehen, welche relevanten Daten tatsÃ¤chlich beim EmpfÃ¤nger ankommen.

### 1.  BewÃ¶lkungsgrad â˜ï¸
-  **Wirkung:** Dichte Wolken und Nebel blockieren das Sonnenlicht, was die Stromproduktion erheblich reduziert. Solarmodule funktionieren zwar auch bei diffusem Licht, aber die Leistung ist dann deutlich geringer als bei  direkter Sonneneinstrahlung. <br>
- **Effekt:** Ertragsminderung, je nach BewÃ¶lkungsdichte kÃ¶nnen 10-80 % weniger Energie erzeugt werden.

### 2.  Wetterbedingungen ğŸŒ§ï¸
- **Wirkung:** Allgemeine Wetterbedingungen (z. B. Regen, Sturm) kÃ¶nnen Hinweise auf potenzielle Risiken fÃ¼r die Solaranlage geben, wie z. B. BeschÃ¤digungen durch Hagel oder Feuchtigkeitseintritt. <br>
- **Effekt:** Planen von WartungseinsÃ¤tzen bei sicherem Wetter und Vermeidung von Risikobedingungen.

### 3. Luftfeuchtigkeit ğŸ’§
- **Wirkung:** Hohe Luftfeuchtigkeit kann die Leistung von Solaranlagen beeintrÃ¤chtigen, insbesondere durch die Bildung von Kondenswasser auf Modulen und elektrischen Bauteilen. <br>
- **Effekt:** Verhindern von SchÃ¤den durch frÃ¼hzeitige Inspektion oder Anpassung der Betriebsbedingungen.

### 4. Luftdruck ğŸŒ¬ï¸
- **Wirkung:** LuftdruckÃ¤nderungen kÃ¶nnen WetterumschwÃ¼nge signalisieren, die fÃ¼r Wartungs- und ReparaturplÃ¤ne berÃ¼cksichtigt werden mÃ¼ssen.
- **Effekt:** FrÃ¼herkennung von WetterverÃ¤nderungen, die die Arbeitssicherheit beeinflussen kÃ¶nnten.
### 5. Temperatur ğŸŒ¡ï¸
- **Wirkung:** Extreme Temperaturen beeinflussen die Effizienz der Solaranlagen und kÃ¶nnen zu Ãœberhitzung oder FunktionsstÃ¶rungen fÃ¼hren.
- **Effekt:** Ãœberwachung der Temperaturen, um prÃ¤ventive MaÃŸnahmen wie KÃ¼hlung oder Abschaltung einzuleiten.

### 6. UV-Strahlung â˜€ï¸
- **Wirkung:** Die UV-Strahlung ist entscheidend fÃ¼r die Energieproduktion der Solaranlagen. Sie gibt Aufschluss Ã¼ber die erwartete Leistung bei klarem Himmel. <br>
- **Effekt:**  Berechnung der Energieproduktion und Bewertung von Leistungsminderungen bei geringem UV-Wert.

### 7. Sichtweite ğŸ‘ï¸
- **Wirkung:** Die Sichtweite gibt Hinweise auf Nebel oder andere atmosphÃ¤rische Bedingungen, die die Sonneneinstrahlung reduzieren kÃ¶nnen. <br>
- **Effekt:** AbschÃ¤tzung der Energieproduktion und Planung von Wartungsarbeiten unter sicheren Bedingungen.


## BegrÃ¼ndung der Wetterbedingungen

### Hohe Wolkenbedeckung (â‰¥ 6 Oktas)
- **BegrÃ¼ndung:**  
  Wolkenbedeckung wird in Oktas gemessen (0 = klar, 8 = vollstÃ¤ndig bedeckt). Bei â‰¥ 6 Oktas ist der Himmel zu mindestens 75 % bedeckt, was die Sonneneinstrahlung erheblich reduziert. Der Schwellenwert von 6 Oktas wurde gewÃ¤hlt, da er signifikante Leistungsminderungen signalisiert.

---

### Geringe UV-Strahlung (< 20 mW/mÂ²)
- **BegrÃ¼ndung:**  
  UV-Strahlung unter 20 mW/mÂ² ist oft nicht ausreichend fÃ¼r die effiziente Stromproduktion. Diese Schwelle ermÃ¶glicht es, LeistungseinbuÃŸen frÃ¼hzeitig zu erkennen.

---

### Hohe Luftfeuchtigkeit (> 80 %)
- **BegrÃ¼ndung:**  
  Luftfeuchtigkeit Ã¼ber 80 % kann Kondensation verursachen, was Korrosion und Leistungsverlust zur Folge hat. Diese Grenze wird hÃ¤ufig als kritisch angesehen.

---

### Extreme Temperaturen (< -5Â°C oder > 40Â°C)
- **BegrÃ¼ndung:**  
  Solaranlagen sind in der Regel fÃ¼r Temperaturen zwischen -5Â°C und 40Â°C ausgelegt. Werte auÃŸerhalb dieses Bereichs kÃ¶nnen MaterialschÃ¤den oder Ãœberhitzung verursachen.

---

### Geringe Sichtweite (< 2 km)
- **BegrÃ¼ndung:**  
  Nebel oder Dunst, die Sichtweiten unter 2 km verursachen, reduzieren die Sonneneinstrahlung erheblich und erhÃ¶hen die Risiken bei Wartungsarbeiten.

---

### Niedriger Luftdruck (< 980 mbar)
- **BegrÃ¼ndung:**  
  Luftdruck unter 980 mbar deutet auf schlechte Wetterbedingungen wie StÃ¼rme hin. Diese Schwelle ermÃ¶glicht frÃ¼hzeitige Warnungen und prÃ¤ventive MaÃŸnahmen.

---

### Schlechtes Wetter (Regen, Schnee, Gewitter)
- **BegrÃ¼ndung:**  
  Regen, Schnee oder Gewitter beeintrÃ¤chtigen nicht nur die Effizienz, sondern erhÃ¶hen auch die Risiken bei Wartungsarbeiten erheblich.

---

## Zusammenfassung
Die Schwellenwerte wurden basierend auf meteorologischen Standards und technischen Anforderungen gewÃ¤hlt. Sie ermÃ¶glichen eine effektive Erkennung und Meldung kritischer Wetterbedingungen, um Effizienzverluste und Risiken zu minimieren.


![alt text](Medien/Solarpanel.png)


# Theorie zur API

### Theorie zur Wetter-API und deren Zusammenhang mit der Semesterarbeit

Eine Wetter-API ist eine Programmierschnittstelle, die Echtzeit-Wetterdaten sowie historische und prognostizierte Wetterinformationen bereitstellt. APIs wie WeatherAPI, oder Ã¤hnliche Dienste ermÃ¶glichen Entwicklern, Wetterdaten programmgesteuert abzurufen und in Anwendungen zu integrieren. Die bereitgestellten Informationen umfassen typischerweise Temperatur, Luftfeuchtigkeit, Windgeschwindigkeit, BewÃ¶lkungsgrad, Niederschlagsmengen, UV-Strahlung und andere meteorologische Parameter.

#### Funktionsweise einer Wetter-API
Die Wetter-API funktioniert durch das Senden von HTTP-Anfragen an einen Server, der die gewÃ¼nschten Daten bereitstellt. Diese Anfragen enthalten spezifische Parameter wie:
- **Standort**: Der geografische Ort, fÃ¼r den die Wetterdaten benÃ¶tigt werden (z. B. Stadtname oder Koordinaten).  
- **Zeitraum**: Echtzeitdaten, Vorhersagedaten oder historische Daten.  
- **Datenumfang**: Zusatzinformationen wie LuftqualitÃ¤t oder Unwetterwarnungen.  

Die API liefert die angeforderten Daten in standardisierten Formaten wie JSON oder XML zurÃ¼ck, die dann von Programmen verarbeitet werden kÃ¶nnen.

#### Relevanz der Wetter-API fÃ¼r die Semesterarbeit
Die Wetter-API spielt eine zentrale Rolle in dieser Semesterarbeit, da sie die Grundlage fÃ¼r das geplante Wetter- und Ereignisbenachrichtigungssystem bildet. Ohne die kontinuierliche und zuverlÃ¤ssige Bereitstellung von Wetterdaten durch die API wÃ¤re es nicht mÃ¶glich, die Ziele des Projekts zu erreichen.

**Zusammenhang mit der Semesterarbeit:**
1. **Kontinuierliche WetterÃ¼berwachung**  
   Die API ermÃ¶glicht die fortlaufende Ãœberwachung der Wetterbedingungen an den Standorten der Solarparks. Sie stellt die Daten bereit, die fÃ¼r die Erkennung kritischer Wetterereignisse wie Hagel, SturmbÃ¶en oder Starkregen erforderlich sind.

2. **Analyse gefÃ¤hrlicher Wetterbedingungen**  
   Die Wetterdaten der API werden durch Python-Skripte analysiert, um spezifische Kriterien zu prÃ¼fen (z. B. Windgeschwindigkeit Ã¼ber einem Schwellenwert oder NiederschlagshÃ¶he). Diese Auswertung bildet die Grundlage fÃ¼r die Erkennung von potenziellen Gefahren.

3. **Automatisierte Benachrichtigungen**  
   Basierend auf den von der API gelieferten Wetterdaten werden E-Mail- und SMS-Benachrichtigungen generiert. Die API sorgt dafÃ¼r, dass die Informationen stets aktuell und zuverlÃ¤ssig sind.

4. **Individualisierung der Benachrichtigungen**  
   Durch die API kÃ¶nnen unterschiedliche Wetterkriterien flexibel abgerufen werden, sodass das Wartungsteam personalisierte Einstellungen vornehmen kann. Beispielsweise kÃ¶nnten bestimmte Techniker nur fÃ¼r SturmbÃ¶en oder UV-Strahlung benachrichtigt werden.

5. **Integration in Azure**  
   Die Daten der Wetter-API werden innerhalb der Azure-Plattform verarbeitet und mit den Azure-Diensten wie Azure Functions kombiniert, um eine skalierbare und automatisierte LÃ¶sung zu erstellen.

Die Wetter-API ist somit ein unverzichtbarer Baustein des gesamten Systems, da sie die benÃ¶tigten Daten bereitstellt und die Automatisierung der Prozesse unterstÃ¼tzt. Durch die sorgfÃ¤ltige Auswahl und Nutzung der API wird sichergestellt, dass das Projekt seine Ziele erreicht und einen hohen Mehrwert fÃ¼r die Solarparks von PPC Metrics AG bietet.
![bf](Medien/api-request-and-response-flow(1).png)


# Schema des IT-Projekts

FÃ¼r die Visualisierung des IT-Schema-Projekts habe ich mich fÃ¼r ein **Seusag-Diagramm** entschieden, da es meiner Meinung nach die beste Methode war, die Informationen klar und strukturiert darzustellen. Ich habe ebenfalls versucht, das Projekt mit einem **Flussdiagramm** und einem **UML-Diagramm** zu visualisieren. 

Beim Flussdiagramm hatte ich Schwierigkeiten, die parallelen AblÃ¤ufe und verschiedenen Komponenten, die gleichzeitig ausgefÃ¼hrt werden, Ã¼bersichtlich darzustellen. Das UML-Diagramm empfand ich als nicht ausreichend umfangreich fÃ¼r die KomplexitÃ¤t des Projekts. 

Die farblichen Pfade und die klare Struktur des Seusag-Diagramms waren hingegen sehr hilfreich und boten eine gut verstÃ¤ndliche und detaillierte Darstellung. Aus diesem Grund habe ich mich letztendlich fÃ¼r das Seusag-Diagramm entschieden.

![alt text](Medien/V3Seusag.drawio.png)

# Azure Functions Timer Trigger â€“ Theoretische Grundlagen und Projektintegration
**Was ist Azure Functions?**<p>
Azure Functions ist ein serverloser Cloud-Dienst von Microsoft Azure, der es ermÃ¶glicht, kleine Code-Snippets (Funktionen) zu erstellen und auszufÃ¼hren, ohne sich um die Verwaltung von Servern kÃ¼mmern zu mÃ¼ssen.

**Vorteile:**
* Skalierung nach Bedarf
* Kosteneffizienz (Bezahlung nur fÃ¼r die tatsÃ¤chliche AusfÃ¼hrungszeit)
* Einfache Bereitstellung und Verwaltung

## Timer Trigger â€“ Definition und Funktionsweise
Ein Timer Trigger ist eine Art von Azure Function, die zu einem bestimmten Zeitpunkt oder in festen Zeitintervallen automatisch ausgefÃ¼hrt wird.

Funktionsweise: Der Timer Trigger nutzt eine CRON-Expression, um festzulegen, wann die Funktion ausgefÃ¼hrt wird.<p>
**Beispiel:**
TÃ¤gliche AusfÃ¼hrung um 8:00 Uhr:
```
0 0 8 * * * 
```
Alle 30 Minuten:

```
0 */30 * * * * 
```
**Praxisbeispiel:** Eine Timer Function kann jede Stunde Wetterdaten abrufen, BenutzerprÃ¤ferenzen aus Azure Table Storage prÃ¼fen und automatisch Benachrichtigungen senden.

## 3. Relevanz fÃ¼r Wetterbenachrichtigungsprojekte

**Timer-Trigger** sind ideal fÃ¼r Wetterprojekte, da sie regelmÃ¤ssige Aufgaben automatisieren kÃ¶nnen:

1. **RegelmÃ¤ssiges Abrufen von Wetterdaten**  
   - Die Funktion ruft stÃ¼ndlich oder tÃ¤glich Wetterdaten von einer API ab.

2. **Vergleich mit BenutzerprÃ¤ferenzen**  
   - Benutzerdaten (z. B. `cloudy`, `uv`, `humidity`, etc.) werden aus Azure Table Storage geladen und mit den aktuellen Wetterdaten verglichen.

3. **Versand von Benachrichtigungen**  
   - Wenn ein Benutzer beispielsweise bei hoher Luftfeuchtigkeit oder niedrigem UV-Index benachrichtigt werden mÃ¶chte, wird die Funktion nur dann ausgefÃ¼hrt, wenn diese Bedingungen erfÃ¼llt sind.


## 4. Projektintegration â€“ Automatisierte Wetterbenachrichtigungen

**Ziel:**  
Wetterdaten stÃ¤ndig abrufen, mit BenutzerprÃ¤ferenzen abgleichen und automatisch Benachrichtigungen (E-Mail/SMS) senden.

**Ablauf in deinem Projekt:**

1. **Azure Table Storage**  
   - Speichert die BenutzerprÃ¤ferenzen (z. B. `cloudy`, `temperature`, `uv`, etc.).  
   - Nutzer kÃ¶nnen angeben, bei welchen Wetterbedingungen sie benachrichtigt werden mÃ¶chten.

2. **Timer Trigger (Azure Function)**  
   - Wird in stets Intervallen ausgefÃ¼hrt (z. B. stÃ¼ndlich).  
   - Ruft aktuelle Wetterdaten von einer API ab und vergleicht diese mit den gespeicherten PrÃ¤ferenzen.

3. **Benachrichtigung (E-Mail/SMS)**  
   - Eine Benachrichtigung wird nur dann ausgelÃ¶st, wenn die Wetterbedingungen den festgelegten PrÃ¤ferenzen entsprechen.


## 5. Vorteile der Timer Trigger fÃ¼r Wetterprojekte

1. **Automatisierung**  
   - Wetterbenachrichtigungen werden regelmÃ¤ssig und ohne manuelles Eingreifen ausgefÃ¼hrt.

2. **Effizienz**  
   - Die Funktion ist nur dann aktiv, wenn tatsÃ¤chlich eine Benachrichtigung ausgelÃ¶st werden muss, was ressourcenschonend ist.

3. **Skalierbarkeit**  
   - Funktioniert sowohl fÃ¼r eine kleine Anzahl von Benutzern als auch fÃ¼r Tausende ohne Leistungsverlust.

4. **FlexibilitÃ¤t**  
   - Timer Trigger kÃ¶nnen einfach angepasst werden, um hÃ¤ufiger oder seltener ausgefÃ¼hrt zu werden.


 ## 6. Fazit:
Azure Functions mit Timer Triggern sind perfekt fÃ¼r dein Wetterbenachrichtigungssystem. Sie automatisieren den gesamten Prozess, von der Wetterdatenabfrage bis zur Benachrichtigung, und sind gleichzeitig kostengÃ¼nstig und flexibel.

Mit dieser Architektur kannst du sicherstellen, dass Benutzer stets Ã¼ber aktuelle Wetterbedingungen informiert werden â€“ und das vollautomatisch.
